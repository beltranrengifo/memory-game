!function(e){function t(t){for(var n,s,r=t[0],l=t[1],c=t[2],u=0,m=[];u<r.length;u++)s=r[u],Object.prototype.hasOwnProperty.call(o,s)&&o[s]&&m.push(o[s][0]),o[s]=0;for(n in l)Object.prototype.hasOwnProperty.call(l,n)&&(e[n]=l[n]);for(d&&d(t);m.length;)m.shift()();return i.push.apply(i,c||[]),a()}function a(){for(var e,t=0;t<i.length;t++){for(var a=i[t],n=!0,r=1;r<a.length;r++){var l=a[r];0!==o[l]&&(n=!1)}n&&(i.splice(t--,1),e=s(s.s=a[0]))}return e}var n={},o={0:0},i=[];function s(t){if(n[t])return n[t].exports;var a=n[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,s),a.l=!0,a.exports}s.m=e,s.c=n,s.d=function(e,t,a){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},s.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(s.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)s.d(a,n,function(t){return e[t]}.bind(null,n));return a},s.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="";var r=window.webpackJsonp=window.webpackJsonp||[],l=r.push.bind(r);r.push=t,r=r.slice();for(var c=0;c<r.length;c++)t(r[c]);var d=l;i.push([174,1]),a()}({116:function(e,t,a){},174:function(e,t,a){"use strict";a.r(t),a.d(t,"init",(function(){return L}));a(115),a(116),a(117),a(120),a(121),a(38),a(74),a(34),a(80),a(52),a(54);function n(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var o=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.overlay=document.createElement("div"),this.modalBody=document.createElement("div"),this.loader=document.createElement("div"),this.createModal()}var t,a,o;return t=e,(a=[{key:"createModal",value:function(){var e=document.querySelector("body");this.overlay.classList.add("modal__overlay"),this.modalBody.classList.add("modal__body"),this.overlay.appendChild(this.modalBody),e.appendChild(this.overlay)}},{key:"showModal",value:function(){this.overlay.classList.add("modal__overlay--visible")}},{key:"hideModal",value:function(){this.overlay.classList.remove("modal__overlay--visible")}},{key:"showLoader",value:function(){this.loader=document.createElement("div"),this.loader.classList.add("modal__loader"),this.loader.innerHTML='<i class="fal fa-spinner-third fa-spin"></i>',this.modalBody.appendChild(this.loader)}},{key:"hideLoader",value:function(){this.modalBody.removeChild(this.loader)}},{key:"setContent",value:function(e){this.modalBody.innerHTML=e}},{key:"deleteContent",value:function(){this.modalBody.innerHTML=""}},{key:"destroyModal",value:function(){var e=this;this.hideModal(),setTimeout((function(){return e.overlay.remove()}),800)}}])&&n(t.prototype,a),o&&n(t,o),e}(),i=a(114),s=a.n(i),r=(a(100),a(103),a(104),a(55),a(56),a(159),a(161),a(106),a(57),a(107),a(109),a(165),function(e){return e?(e=e.toString()).charAt(0).toUpperCase()+e.slice(1):""});function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var d=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.modal=new o,this.modal.showModal(),this.user=null,this.userLocation=null,this.level=null}var t,a,n;return t=e,(a=[{key:"getUser",value:function(){var e=this;return new Promise((function(t){e.modal.setContent('\n  <div\n    id="user-modal"\n    class="modal__body-wrap">\n    <h2 class="modal__title">\n      Hi there!\n    </h2>\n    <div class="modal__row">\n      <input\n        class="input"\n        name="user"\n        id="input-user"\n        placeholder="Your name">\n    </div>\n    <div class="modal__footer">\n      <button\n        class="button">\n        Next\n      </button>\n    </div>\n  </div>\n');var a=e.modal.modalBody.querySelector("#user-modal .button");a.addEventListener("click",(function(){e.modal.modalBody.querySelector("#input-user").value?(e.user=e.modal.modalBody.querySelector("#input-user").value,e.modal.deleteContent(),t(e.user)):a.innerText="Please, type your name"}))}))}},{key:"getUserLocation",value:function(){var e=this;return new Promise((function(t){e.modal.setContent('\n  <div\n    id="location-modal"\n    class="modal__body-wrap">\n    <h2 class="modal__title">\n      Geolocation API!\n    </h2>\n    <div class="modal__row">\n      We collect your location, just for educational purposes\n    </div>\n    <div class="modal__footer">\n      <button\n        value="true"\n        class="button">\n        Ok\n      </button>\n      <button\n        value="false"\n        class="button">\n        No\n      </button>\n    </div>\n  </div>\n');var a=e.modal.modalBody.querySelectorAll("#location-modal .button");Array.from(a).forEach((function(a){a.addEventListener("click",(function(a){"true"===a.target.value?(e.modal.showLoader(),navigator.geolocation.getCurrentPosition((function(a){var n,o;s.a.get((n=a.coords.latitude,o=a.coords.longitude,"https://eu1.locationiq.com/v1/reverse.php?key=".concat("31a0aa2ee4220c","&lat=").concat(n,"&lon=").concat(o,"&format=json"))).then((function(n){e.userLocation={latitude:a.coords.latitude,longitude:a.coords.longitude,geocode:n.data},e.modal.hideLoader(),t()}))}),(function(a){e.userLocation=!1,console.log(a),t(e.userLocation)}))):(e.userLocation=!1,t())}))}))}))}},{key:"getGameLevel",value:function(){var e=this;return new Promise((function(t){var a,n;e.modal.setContent((a=e.user,n=e.userLocation&&e.userLocation.geocode.address.city,'\n  <div\n    id="level-modal"\n    class="modal__body-wrap">\n    <h2 class="modal__title">\n      Hi, '.concat(r(a)," ").concat(n?"from "+n+",":"",' please choose your level!\n    </h2>\n    <div class="modal__row">\n      Higher levels give higher ranks!\n    </div>\n    <div class="modal__row">\n      <div class="modal__levels">\n        <button class="levels__level levels__level--easier" value="2">Easier</button>\n        <button class="levels__level levels__level--easy" value="3">Easy</button>\n        <button class="levels__level levels__level--medium" value="4">Medium</button>\n        <button class="levels__level levels__level--hard" value="5">Hard</button>\n        <button class="levels__level levels__level--hardest" value="6">Hardest</button>\n        <button class="levels__level levels__level--crazy" value="15">Crazy</button>\n      </div>\n    </div>\n  </div>\n')));var o=e.modal.modalBody.querySelectorAll("#level-modal button.levels__level");Array.from(o).forEach((function(a){a.addEventListener("click",(function(a){e.level=parseInt(a.target.value),setTimeout((function(){return e.modal.destroyModal()}),100),t(e.getGameConfig())}))}))}))}},{key:"getGameConfig",value:function(){return{user:this.user,userLocation:this.userLocation,level:this.level}}}])&&c(t.prototype,a),n&&c(t,n),e}(),u=(a(169),a(110),["500px","accessible-icon","accusoft","acquisitions-incorporated","adn","adobe","adversal","affiliatetheme","airbnb","algolia","alipay","amazon","amazon-pay","amilia","android","angellist","angrycreative","angular","app-store","app-store-ios","apper","apple","apple-pay","artstation","asymmetrik","atlassian","audible","autoprefixer","avianex","aviato","aws","bandcamp","battle-net","behance","behance-square","bimobject","bitbucket","bitcoin","bity","black-tie","blackberry","blogger","blogger-b","bluetooth","bluetooth-b","bootstrap","btc","buffer","buromobelexperte","buy-n-large","buysellads","canadian-maple-leaf","cc-amazon-pay","cc-amex","cc-apple-pay","cc-diners-club","cc-discover","cc-jcb","cc-mastercard","cc-paypal","cc-stripe","cc-visa","centercode","centos","chrome","chromecast","cloudscale","cloudsmith","cloudversify","codepen","codiepie","confluence","connectdevelop","contao","cotton-bureau","cpanel","creative-commons","creative-commons-by","creative-commons-nc","creative-commons-nc-eu","creative-commons-nc-jp","creative-commons-nd","creative-commons-pd","creative-commons-pd-alt","creative-commons-remix","creative-commons-sa","creative-commons-sampling","creative-commons-sampling-plus","creative-commons-share","creative-commons-zero","critical-role","css3","css3-alt","cuttlefish","d-and-d","d-and-d-beyond","dailymotion","dashcube","delicious","deploydog","deskpro","dev","deviantart","dhl","diaspora","digg","digital-ocean","discord","discourse","dochub","docker","draft2digital","dribbble","dribbble-square","dropbox","drupal","dyalog","earlybirds","ebay","edge","elementor","ello","ember","empire","envira","erlang","ethereum","etsy","evernote","expeditedssl","facebook","facebook-f","facebook-messenger","facebook-square","fantasy-flight-games","fedex","fedora","figma","firefox","firefox-browser","first-order","first-order-alt","firstdraft","flickr","flipboard","fly","font-awesome","font-awesome-alt","font-awesome-flag","font-awesome-logo-full","fonticons","fonticons-fi","fort-awesome","fort-awesome-alt","forumbee","foursquare","free-code-camp","freebsd","fulcrum","galactic-republic","galactic-senate","get-pocket","gg","gg-circle","git","git-alt","git-square","github","github-alt","github-square","gitkraken","gitlab","gitter","glide","glide-g","gofore","goodreads","goodreads-g","google","google-drive","google-play","google-plus","google-plus-g","google-plus-square","google-wallet","gratipay","grav","gripfire","grunt","gulp","hacker-news","hacker-news-square","hackerrank","hips","hire-a-helper","hooli","hornbill","hotjar","houzz","html5","hubspot","ideal","imdb","instagram","instagram-square","intercom","internet-explorer","invision","ioxhost","itch-io","itunes","itunes-note","java","jedi-order","jenkins","jira","joget","joomla","js","js-square","jsfiddle","kaggle","keybase","keycdn","kickstarter","kickstarter-k","korvue","laravel","lastfm","lastfm-square","leanpub","less","line","linkedin","linkedin-in","linode","linux","lyft","magento","mailchimp","mandalorian","markdown","mastodon","maxcdn","mdb","medapps","medium","medium-m","medrt","meetup","megaport","mendeley","microblog","microsoft","mix","mixcloud","mixer","mizuni","modx","monero","napster","neos","nimblr","node","node-js","npm","ns8","nutritionix","odnoklassniki","odnoklassniki-square","old-republic","opencart","openid","opera","optin-monster","orcid","osi","page4","pagelines","palfed","patreon","paypal","penny-arcade","periscope","phabricator","phoenix-framework","phoenix-squadron","php","pied-piper","pied-piper-alt","pied-piper-hat","pied-piper-pp","pied-piper-square","pinterest","pinterest-p","pinterest-square","playstation","product-hunt","pushed","python","qq","quinscape","quora","r-project","raspberry-pi","ravelry","react","reacteurope","readme","rebel","red-river","reddit","reddit-alien","reddit-square","redhat","renren","replyd","researchgate","resolving","rev","rocketchat","rockrms","safari","salesforce","sass","schlix","scribd","searchengin","sellcast","sellsy","servicestack","shirtsinbulk","shopify","shopware","simplybuilt","sistrix","sith","sketch","skyatlas","skype","slack","slack-hash","slideshare","snapchat","snapchat-ghost","snapchat-square","soundcloud","sourcetree","speakap","speaker-deck","spotify","squarespace","stack-exchange","stack-overflow","stackpath","staylinked","steam","steam-square","steam-symbol","sticker-mule","strava","stripe","stripe-s","studiovinari","stumbleupon","stumbleupon-circle","superpowers","supple","suse","swift","symfony","teamspeak","telegram","telegram-plane","tencent-weibo","the-red-yeti","themeco","themeisle","think-peaks","trade-federation","trello","tripadvisor","tumblr","tumblr-square","twitch","twitter","twitter-square","typo3","uber","ubuntu","uikit","umbraco","uniregistry","unity","untappd","ups","usb","usps","ussunnah","vaadin","viacoin","viadeo","viadeo-square","viber","vimeo","vimeo-square","vimeo-v","vine","vk","vnv","vuejs","waze","weebly","weibo","weixin","whatsapp","whatsapp-square","whmcs","wikipedia-w","windows","wix","wizards-of-the-coast","wolf-pack-battalion","wordpress","wordpress-simple","wpbeginner","wpexplorer","wpforms","wpressr","xbox","xing","xing-square","y-combinator","yahoo","yammer","yandex","yandex-international","yarn","yelp","yoast","youtube","youtube-square","zhihu"]),m=a(19),h=a.n(m);function v(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var p=function(){function e(t,a){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.name=t,this.game=a,this.domElement=null,this.clickHandler=this.game.cardClickHandler}var t,a,n;return t=e,(a=[{key:"generateCard",value:function(){this.domElement=document.createElement("article"),this.domElement.classList.add("card"),this.domElement.setAttribute("brand",this.name);var e=document.createElement("div");e.classList.add("card__wrap");var t,a=document.createElement("div");a.classList.add("card__front"),a.setAttribute("brand-display",r((t=this.name)?t.replace(/-/g," "):""));var n=document.createElement("i");n.classList.add("card__brand","fab","fa-".concat(this.name)),a.appendChild(n);var o=document.createElement("div");o.classList.add("card__back");var i=document.createElement("span");return i.classList.add("card__belt"),i.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 148 200"><g><g><path d="M148,100A74,74,0,0,0,48,30.73V0H0V200H48V169.27A73.55,73.55,0,0,0,74,174a26,26,0,0,1,26,26h48a73.72,73.72,0,0,0-19.5-50A73.72,73.72,0,0,0,148,100ZM48,100a26,26,0,1,1,26,26A26,26,0,0,1,48,100Z"/><path d="M0,100v74.88A105.46,105.46,0,0,0,40.9,200H48V169.27h0A74.1,74.1,0,0,1,0,100Z"/></g></g></svg>',o.appendChild(i),e.appendChild(a),e.appendChild(o),this.domElement.appendChild(e),this.setListener(),this.domElement}},{key:"setListener",value:function(){var e=this;this.domElement.addEventListener("click",(function(t){return e.clickHandler.call(e.game,t,e.name)}),!1)}}])&&v(t.prototype,a),n&&v(t,n),e}();function f(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var b=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.game=t,this.level=t.config.level,this.levels={2:"easiest",3:"easy",4:"medium",5:"hard",6:"hardest",15:"crazy"},this.domElement=document.getElementById(t.config.element),this.headerInfoElement=document.querySelector(".header__info"),this.headerTitleElement=document.querySelector(".header__title"),this.attemptsElement=null,this.achievementsElement=null,this.cards=this.generateCards(),this.resetBoard(),this.drawBoard(),this.createAttemptsBox(),this.createAchievementsBox(),this.createTimeBox(),this.createLevelBox()}var t,a,n;return t=e,(a=[{key:"generateCards",value:function(){var e=h.a.shuffle(u).slice(0,2*this.level),t=h.a.shuffle(e.slice(0));return h.a.shuffle(e.concat(t))}},{key:"resetBoard",value:function(){this.domElement&&(this.domElement.innerHTML="")}},{key:"drawBoard",value:function(){var e=this;this.cards.forEach((function(t){if(e.domElement){var a=new p(t,e.game);e.domElement.appendChild(a.generateCard()),e.domElement.classList.add("main__board--".concat(e.cards.length))}}))}},{key:"createAttemptsBox",value:function(){this.headerInfoElement&&(this.attemptsElement=document.createElement("div"),this.attemptsElement.id="attempts",this.attemptsElement.classList.add("header__attempts"),this.headerInfoElement.appendChild(this.attemptsElement))}},{key:"createAchievementsBox",value:function(){this.headerInfoElement&&(this.achievementsElement=document.createElement("div"),this.achievementsElement.id="achievements",this.achievementsElement.classList.add("header__achievements"),this.headerInfoElement.appendChild(this.achievementsElement))}},{key:"createTimeBox",value:function(){this.headerInfoElement&&(this.timeElement=document.createElement("div"),this.timeElement.id="time",this.timeElement.classList.add("header__time"),this.headerInfoElement.appendChild(this.timeElement))}},{key:"createLevelBox",value:function(){this.headerTitleElement&&(this.levelElement=document.createElement("div"),this.levelElement.id="level",this.levelElement.classList.add("header__level","header__level--".concat(this.levels[this.level])),this.levelElement.innerText=r(this.levels[this.level]),this.headerTitleElement.appendChild(this.levelElement))}},{key:"setAttempts",value:function(e){this.attemptsElement&&(this.attemptsElement.innerHTML=e)}},{key:"setAchievements",value:function(e){this.achievementsElement&&(this.achievementsElement.innerHTML=e)}},{key:"setTime",value:function(e){this.timeElement&&(this.timeElement.innerHTML=e)}},{key:"lockBoard",value:function(){this.domElement.classList.add("main__board--locked")}},{key:"unlockBoard",value:function(){var e=this;setTimeout((function(){return e.domElement.classList.remove("main__board--locked")}),this.game.defaultDelay)}},{key:"boardFinished",value:function(){this.domElement.classList.add("animated","tada","delay-1s"),setTimeout((function(){return document.querySelector("body").classList.add("show-results")}),2500)}},{key:"cleanBoard",value:function(){this.domElement.innerHTML="",this.domElement.classList=["main__board"],this.attemptsElement&&this.attemptsElement.remove(),this.achievementsElement&&this.achievementsElement.remove(),this.timeElement&&this.timeElement.remove(),this.levelElement&&this.levelElement.remove()}}])&&f(t.prototype,a),n&&f(t,n),e}(),y=a(60);a(171);y.initializeApp({apiKey:"AIzaSyAvU2osvjRG7ZRa3xfQ75uxEfj1bLAPaPE",authDomain:"onesait-memory-game.firebaseapp.com",databaseURL:"https://onesait-memory-game.firebaseio.com",projectId:"onesait-memory-game",storageBucket:"onesait-memory-game.appspot.com",messagingSenderId:"854342630585",appId:"1:854342630585:web:7d0a061970d83994c9af68"});var g=y.database();function _(e){return function(e){if(Array.isArray(e))return k(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return k(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(a);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return k(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function k(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}function w(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var E=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.config=t,this.board=new b(this),this.modal=new o,this.pickedCards=[],this.attempts=0,this.achievements=0,this.defaultDelay=800,this.time=0,this.paused=!1,this.chronoInterval=null,this.firstClick=!0,this.board.setAttempts(this.attempts),this.board.setAchievements(this.achievements),this.board.setTime(this.time)}var t,a,n;return t=e,(a=[{key:"cardClickHandler",value:function(e,t){this.firstClick&&(this.chronometer(),this.firstClick=!1);var a=e.target.closest(".card");a.classList.add("visible"),this.pickedCards.push({name:t,card:a}),2===this.pickedCards.length&&(this.board.lockBoard(),this.attempts++,this.board.setAttempts(this.attempts),this.pickedCards.every((function(e){return e.name===t}))?(this.achievements++,this.board.setAchievements(this.achievements),this.setCardsClasses(["blocked","animated","bounce"]),this.checkIfWin()&&this.gameFinished()):(this.setCardsClasses(["animated","shake","delay-sm"]),this.removeCardsClasses(["visible","animated","shake","delay-sm"])),this.nextTurn(),this.board.unlockBoard())}},{key:"setCardsClasses",value:function(e){this.pickedCards.forEach((function(t){var a;(a=t.card.classList).add.apply(a,_(e))}))}},{key:"removeCardsClasses",value:function(e){var t=this;this.pickedCards.forEach((function(a){setTimeout((function(){var t;return(t=a.card.classList).remove.apply(t,_(e))}),t.defaultDelay)}))}},{key:"checkIfWin",value:function(){return this.board.cards.length/2===this.achievements}},{key:"nextTurn",value:function(){this.pickedCards=[]}},{key:"gameFinished",value:function(){var e=this;this.board.boardFinished(),this.paused=!0,clearInterval(this.chronoInterval),this.getRanking().then((function(t){var a;console.log("hi"),e.modal.setContent((a={attempts:e.attempts,time:e.time,level:e.board.levels[e.config.level],total:e.calculateTotalResult(),ranking:t},'\n  <div class="modal__body-wrap">\n    <div class="modal__results">\n      <h2 class="modal__title">\n        Great game!\n        <span id="play-again" class="button">Play again</span>\n      </h2>\n      <div class="modal__row">\n        Attemps: <span class="modal__result">'.concat(a.attempts,'</span>\n      </div>\n      <div class="modal__row">\n        Time: <span class="modal__result">').concat(a.time,'</span>\n      </div>\n      <div class="modal__row">\n        Level: <span class="modal__result">').concat(r(a.level),'</span>\n      </div>\n      <div class="modal__row modal__row--total">\n        Total: <span class="modal__result modal__result--total rubberBand animated infinite">').concat(a.total.toFixed(2),'</span> points!\n      </div>\n    </div>\n    <div class="modal__ranking">\n      <div class="modal__row modal__row--ranking">\n        <h3 class="modal__ranking-title">Ranking</h3>\n        <table class="table table--ranking">\n          ').concat(a.ranking,"\n        </table>\n      </div>\n    </div>\n  </div>\n"))),e.modal.modalBody.querySelector("#play-again").addEventListener("click",(function(){return e.createNewGame()}))})),this.saveGameData(),setTimeout((function(){e.modal.showModal()}),2500)}},{key:"chronometer",value:function(){var e=this;this.chronoInterval=setInterval((function(){e.paused||(e.board.setTime(e.time),e.time++)}),1e3)}},{key:"calculateTotalResult",value:function(){return 75*this.config.level-(1.3*this.attempts+1.1*this.time)}},{key:"saveGameData",value:function(){g.ref().push({user:this.config.user,userLocation:this.config.userLocation,level:this.config.level,attempts:this.attempts,time:this.time,total:this.calculateTotalResult()})}},{key:"getRanking",value:function(){var e=this;return new Promise((function(t){g.ref().once("value",(function(a){var n=h.a.sortBy(a.val(),(function(e){return e.total})).reverse();t(function(e,t){var a=e.reduce((function(e,a,n,o){return e+='\n      <tr class="table__row '.concat(n<5?"top-five":n>=o.length-5?"last-five":"",'">\n        <td class="table__item table__item--user"><span class="table__item-position">').concat(n+1,". </span>").concat(r(a.user),'</td>\n\n        <td class="table__item table__item--location">').concat("object"===l(a.userLocation)&&void 0!==a.userLocation?a.userLocation.geocode.address.city:" - ",'</td>\n        <td class="table__item table__item--level">').concat(r(t[a.level]),'</td>\n        <td class="table__item table__item--attempts">').concat(a.attempts,'</td>\n        <td class="table__item table__item--time">').concat(a.time,'s</td>\n        <td class="table__item table__item--total">').concat(a.total.toFixed(2),"</td>\n      </tr>\n    ")}),"");return'\n    <thead class="table__header">\n      '.concat("\n    <tr>\n      <th>User</th>\n      <th>Location</th>\n      <th>Level</th>\n      <th>Attempts</th>\n      <th>Time</th>\n      <th>Total</th>\n    </tr>\n  ",'\n    </thead>\n    <tbody class="table__body">\n      ').concat(a,"\n    </tbody>\n  ")}(n,e.board.levels))}))}))}},{key:"createNewGame",value:function(){this.modal.destroyModal(),this.board.cleanBoard(),L()}}])&&w(t.prototype,a),n&&w(t,n),e}();a(173);window.onload=function(){var e,t;L(),t=[],navigator.userAgent.toLowerCase().indexOf("firefox")>-1&&t.push("firefox"),(e=document.querySelector("body").classList).add.apply(e,t)};var L=function(){var e=new d;e.getUser().then((function(){return e.getUserLocation()})).then((function(){return e.getGameLevel()})).then((function(e){new E({element:"main-board",user:e.user,userLocation:e.userLocation,level:e.level})}))},x=function(e){isNaN(+e)&&(e=100);var t=+new Date,a=+new Date;(isNaN(t)||isNaN(a)||a-t>e)&&(alert("DEVTOOLS detected. all operations will be terminated."),document.write("DEVTOOLS detected."))};window.attachEvent?"complete"===document.readyState||"interactive"===document.readyState?(x(),window.attachEvent("onresize",x),window.attachEvent("onmousemove",x),window.attachEvent("onfocus",x),window.attachEvent("onblur",x)):setTimeout(argument.callee,0):(window.addEventListener("load",x),window.addEventListener("resize",x),window.addEventListener("mousemove",x),window.addEventListener("focus",x),window.addEventListener("blur",x))}});
//# sourceMappingURL=app.ef36f9b1.js.map